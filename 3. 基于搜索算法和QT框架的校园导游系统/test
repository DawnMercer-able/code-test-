void MainWindow::drawGraph() {
    int nodeCount = qrand() % 10 + 5;
    int lineCount = qrand() % (nodeCount * (nodeCount - 1) / 2) + nodeCount - 1;

    for (int i = 0; i < nodeCount; ++i) {
        QGraphicsEllipseItem *nodeItem = scene->addEllipse(0, 0, 50, 50, QPen(Qt::black), QBrush(Qt::white));
        nodeItem->setPos(qFloor(qrand() % static_cast<int>(scene->width() - 50)), qFloor(qrand() % static_cast<int>(scene->height() - 50)));
        QGraphicsTextItem *labelItem = scene->addText(QString::number(i));
        labelItem->setPos(nodeItem->pos().x() + 20, nodeItem->pos().y() + 20);
        graph.addNode(nodeItem, labelItem);
    }

    for (int i = 0; i < lineCount; ++i) {
        int fromNodeIndex = qrand() % nodeCount;
        int toNodeIndex;
        do {
            toNodeIndex = qrand() % nodeCount;
        } while (toNodeIndex == fromNodeIndex);

        QGraphicsLineItem *lineItem = scene->addLine(0, 0, 50, 50, QPen(Qt::black));
        lineItem->setPos(graph.getNodePosition(fromNodeIndex));
        lineItem->setLine(QLineF(lineItem->line().p1(), graph.getNodePosition(toNodeIndex)));
        QGraphicsTextItem *labelItem = scene->addText(QString::number(qrand() % 10 + 1));
        labelItem->setPos((lineItem->line().p1() + lineItem->line().p2()) / 2);
        graph.addEdge(fromNodeIndex, toNodeIndex, labelItem);
    }
}
